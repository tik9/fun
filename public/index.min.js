
var apiheaders = { joke: 'Fetch Joke - enter keyword', stock: 'Fetch stock data - Result is probably in dollars', transcript: 'Fetch transcripts - tbd' }


includes()
navtop()
navtoparef_title()

var res
async function getjson(file = 'sys') {
    if (!res) res = await (await fetch('/.netlify/functions/file?json=all')).json()
    for (var json of res) { if (typeof json[file] != 'undefined') return json[file] }
}


async function includes() {
    var minjs = '.min.js'
    var obj = help_includes()

    var js_arr1 = [
        obj.cdn + 'jquery/3.6.0/jquery' + minjs,
        obj.cdn + obj.boots + 'js/bootstrap' + minjs
    ]

    var dir = 'js'
    var js_arr2 = await css_js([], dir)
    // console.log(js_arr2)
    js_arr1.push(...js_arr2)
    js_arr2.push(dir + '/src' + minjs)
    js_arr2.sort()

    git_code(js_arr2)

    for (var elem of js_arr1) {
        var script = document.createElement("script")
        script.src = elem
        document.head.prepend(script)
    }
}

function locale_date(date = '') {
    var today = new Date()
    var todayDate = today.toISOString().substring(0, 10);
    var dateformat = { day: '2-digit', month: '2-digit', year: 'numeric' }

    return date == todayDate ? 'today' : new Date(today.setDate(today.getDate() - 1)).toISOString().substring(0, 10) == date ? 'yesterday' : new Date(date).toLocaleDateString('de-de', dateformat)
}


function navhelp(arr) {
    for (var elem of arr) {
        var aref = document.createElement('a')
        aref.textContent = elem
        aref.href = '#' + elem
        aref.classList.add('nav')
        topnav.append(aref)
    }
}

function navtop() {
    var aref = document.createElement("a");
    aref.classList.add('nav', 'active')
    aref.href = '#container';
    aref.textContent = 'Index'
    topnav.append(aref)
}

function navtoparef_title() {
    var arr = []
    // for (var elem in apiheaders) { arr.push(elem) }

    var headers = { cloud: 'My social cloud actvities', sys: 'Node server in use', apis: 'Apis I favour' }
    for (var elem in headers) {
        arr.push(elem)
        var head = document.createElement('h4')
        head.innerText = headers[elem]
        head.classList.add('mb-3', 'mt-5')
        document.getElementById(elem).prepend(head)
    }

    // arr_.push(...arr)
    for (var elem of arr) {
        var aref = document.createElement('a')
        aref.textContent = elem
        aref.href = '#' + elem
        aref.classList.add('nav')
        topnav.append(aref)
    }
    container.prepend(topnav)
}

//# sourceURL=dynamicScript.js
